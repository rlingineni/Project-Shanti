var hid = require('hid')

// List all HID devices
console.log(hid.enumerate(5430, 0))

const device = hid.open(5430, 257);


let buf  = new Buffer([0x01,0x01,0xEE, 0x09,0x40, 0x02 ,0x02, 0x00,0x65,0x03,0x81, 0x01,0x00]);

let finalBuf =  Buffer.concat([buf], 257);

//let bytes = hid.send_feature_report(device, finalBuf)
//console.log(bytes);


//const bytes = hid.read(device, buf)
//console.log(buf);
buf  = new Buffer([0x02, 0x42, 0xEE, 0x40, 0x40, 0x02, 0x02, 0x00, 0x73, 0x3A, 0x80, 0x01, 0x04, 0xA2, 0x1A, 0x80, 0x01, 0x24, 0x81, 0x01, 0x00, 0x82, 0x02, 0x09, 0x26, 0x83, 0x02, 0x08, 0x29, 0x85, 0x01, 0x00, 0x86, 0x01, 0x00, 0x87, 0x01, 0x00, 0x88, 0x01, 0x00, 0xA4, 0x0C, 0x80, 0x01, 0x00, 0x81, 0x01, 0x00, 0x82, 0x01, 0x00, 0x83, 0x01, 0x00, 0x86, 0x01, 0x04, 0xA7, 0x08, 0x80, 0x02, 0x09, 0x26, 0x81, 0x02, 0x08, 0x29]);

let counter = 0;
setInterval(()=>{
   let bytes=  hid.read(device, buf);

   console.log(bytes);
   console.log(buf.toString('hex'));
   counter++;
   console.log(counter);
} , 200);



